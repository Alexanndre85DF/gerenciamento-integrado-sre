<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste LocalStorage</title>
</head>
<body>
    <h1>Teste de LocalStorage</h1>
    
    <h2>Dados de Autentica√ß√£o</h2>
    <div id="authData"></div>
    
    <h2>Teste de Grava√ß√£o</h2>
    <button onclick="testWrite()">Testar Grava√ß√£o</button>
    <button onclick="testRead()">Testar Leitura</button>
    <button onclick="clearData()">Limpar Dados</button>
    
    <div id="result"></div>

    <script>
        // Simular dados de autentica√ß√£o
        function simulateAuth() {
            localStorage.setItem('userRole', 'T√©cnico');
            localStorage.setItem('userCPF', '123.456.789-00');
            localStorage.setItem('userName', 'Alexandre Tolentino');
            localStorage.setItem('userId', 'user123');
            
            updateAuthDisplay();
        }
        
        // Atualizar exibi√ß√£o dos dados de autentica√ß√£o
        function updateAuthDisplay() {
            const authDiv = document.getElementById('authData');
            authDiv.innerHTML = `
                <p><strong>Role:</strong> ${localStorage.getItem('userRole') || 'N√£o definido'}</p>
                <p><strong>CPF:</strong> ${localStorage.getItem('userCPF') || 'N√£o definido'}</p>
                <p><strong>Nome:</strong> ${localStorage.getItem('userName') || 'N√£o definido'}</p>
                <p><strong>ID:</strong> ${localStorage.getItem('userId') || 'N√£o definido'}</p>
            `;
        }
        
        // Testar grava√ß√£o
        function testWrite() {
            try {
                const testData = {
                    test: true,
                    timestamp: new Date().toISOString(),
                    message: 'Teste de localStorage'
                };
                
                const records = JSON.parse(localStorage.getItem('testRecords') || '[]');
                records.push(testData);
                localStorage.setItem('testRecords', JSON.stringify(records));
                
                document.getElementById('result').innerHTML = '<p style="color: green;">‚úÖ Dados gravados com sucesso!</p>';
            } catch (error) {
                document.getElementById('result').innerHTML = `<p style="color: red;">‚ùå Erro ao gravar: ${error.message}</p>`;
            }
        }
        
        // Testar leitura
        function testRead() {
            try {
                const records = JSON.parse(localStorage.getItem('testRecords') || '[]');
                document.getElementById('result').innerHTML = `
                    <p style="color: blue;">üìñ Dados lidos com sucesso!</p>
                    <p>Total de registros: ${records.length}</p>
                    <pre>${JSON.stringify(records, null, 2)}</pre>
                `;
            } catch (error) {
                document.getElementById('result').innerHTML = `<p style="color: red;">‚ùå Erro ao ler: ${error.message}</p>`;
            }
        }
        
        // Limpar dados
        function clearData() {
            localStorage.removeItem('testRecords');
            document.getElementById('result').innerHTML = '<p style="color: orange;">üóëÔ∏è Dados de teste removidos!</p>';
        }
        
        // Inicializar
        simulateAuth();
        updateAuthDisplay();
    </script>
</body>
</html>
